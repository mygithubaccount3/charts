(this.webpackJsonpcharts=this.webpackJsonpcharts||[]).push([[0],{23:function(e,t,a){e.exports=a(35)},28:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),c=a.n(l),o=(a(28),a(3)),s=a.n(o),i=a(7),u=a(9),m=a(10),d=a(13),g=a.n(d),p=a(1);var h=function(){function e(){return(e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={id:null,firstName:t.target.firstName.value,lastName:t.target.lastName.value,email:t.target.email.value,pass:t.target.pass.value},e.next=4,fetch("http://localhost:8083/signUp",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(a)}).then((function(e){return console.log(e.json())}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(n.Fragment,null,r.a.createElement("h1",{style:{textAlign:"center"}},"Sign Up"),r.a.createElement("form",{id:"regForm",onSubmit:function(t){return e.apply(this,arguments)}},r.a.createElement("label",null,"First Name: ",r.a.createElement("input",{type:"text",name:"firstName",placeholder:"Enter first name"})),r.a.createElement("label",null,"Last Name: ",r.a.createElement("input",{type:"text",name:"lastName",placeholder:"Enter last name"})),r.a.createElement("label",null,"Email: ",r.a.createElement("input",{type:"email",name:"email",placeholder:"Enter email"})),r.a.createElement("label",null,"Password: ",r.a.createElement("input",{type:"password",name:"pass",placeholder:"Enter password"})),r.a.createElement("button",{type:"submit"},"Sign Up"),r.a.createElement(m.b,{to:"/"},"Sign In")))},f=a(37),E=a(22);function y(){document.getElementById("overlay").style.display="block",document.getElementsByTagName("form")[0].style.display="flex"}function b(){Object(E.a)(document.getElementsByTagName("form")).forEach((function(e){e.style.display="none"})),document.getElementById("overlay").style.display="none"}function v(){document.getElementById("overlay").style.display="block",document.getElementById("newProjectForm").style.display="flex"}function D(e){var t=e.split("-");return new Date(t[0],t[1]-1,t[2])}function k(e,t){return Math.round((t-e)/864e5)}var M=function(e){var t=e.el,a=e.days,l=e.dayWidth,c=e.isOnMobile;return Object(n.useEffect)((function(){function e(e){if(e.matches){var t=11/a+Number(l.slice(0,l.length-1))+"%";document.getElementById("months").style.gridTemplateColumns="repeat(".concat(a,", ").concat(t,")"),document.getElementById("blankCell").style.display="none"}else document.getElementById("months").style.gridTemplateColumns="11% repeat(".concat(a,", ").concat(l,")"),document.getElementById("blankCell").style.display="block"}return e(c),c.addListener(e),function(){c.removeListener(e)}}),[c,l,a]),r.a.createElement("div",{id:"months"},r.a.createElement("div",{id:"blankCell"}),t)};var j=function(e){var t,a,l,c=e.dayWidth,o=e.days,s=e.dateStart,i=e.dateEnd,u=e.name,m=e.start,d=e.end,g=e.isOnMobile,p=e.projId,h=e.taskId,f=(e.userEmail,e.userToken,e.deleteTask),E=0,y=0;if(D(m).getMonth()+1<Number(s.slice(5,7)))if(D(d).getMonth()+1<Number(s.slice(5,7)))t="none";else if(D(d).getMonth()+1>=Number(s.slice(5,7))&&D(d).getMonth()+1<=Number(i.slice(5,7))){y=(E=2)+(1+k(D(s),D(d))),t="block"}else D(d).getMonth()+1>Number(i.slice(5,7))&&(E=2,y=o,t="block");else D(m).getMonth()+1>=Number(s.slice(5,7))&&D(m).getMonth()+1<=Number(i.slice(5,7))?(E=k(D(s),D(m))+2,D(d).getMonth()+1<=Number(i.slice(5,7))?(y=E+k(D(m),D(d)),t="block"):D(d).getMonth()+1>Number(i.slice(5,7))&&(y=o,t="block")):D(m).getMonth()+1>Number(i.slice(5,7))&&(t="none");return Object(n.useEffect)((function(){function e(e){var t=document.getElementsByClassName("task");if(e.matches)for(var a=11/o+Number(c.slice(0,c.length-1))+"%",n=0;n<t.length;n++)t[n].children[0].style.display="none",t[n].setAttribute("style","grid-template-columns: repeat(".concat(o,", ").concat(a,");margin-top: 11px;margin-bottom: 11px"));else for(var r=0;r<t.length;r++)t[r].children[0].style.display="block",t[r].setAttribute("style","grid-template-columns: 11% repeat(".concat(o,", ").concat(c,")"))}return e(g),g.addListener(e),function(){g.removeListener(e)}}),[g,c,o]),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"task",id:"task".concat((a=0,l=1e4,a=Math.ceil(a),l=Math.floor(l),Math.floor(Math.random()*(l-a+1))+a))},r.a.createElement("div",{className:"task__info"},r.a.createElement("div",{className:"task__name"},u),r.a.createElement("div",{className:"task__duration"},k(D(m),D(d))," day(s)"),r.a.createElement("span",{className:"task__start"},m)," - ",r.a.createElement("span",{className:"taskInfo__end"},d),r.a.createElement("button",null,"Edit"),r.a.createElement("button",{onClick:f(h,p)},"Delete")),r.a.createElement("div",{className:"task__chart",style:{gridArea:"1/".concat(E,"/2/").concat(y),display:t,backgroundColor:"".concat(["#dfceff","#c4dcff","#fec4ff","#c4f4ff","#c8ffc4","#feffc4","#ffc4c4","#304c8029","#8a5858b0","#10bdb5b0"][Math.floor(10*Math.random())])}})))};var N=function(e){var t=e.dayWidth,a=e.days,n=e.dateStart,l=e.dateEnd,c=e.data,o=e.isOnMobile,s=e.userEmail,i=e.userToken,u=e.deleteTask,m=[];return c.forEach((function(e,c,d){e.taskList.forEach((function(d){var g=new Date(d.startDate),p=new Date(d.endDate);console.log(d.startDate),console.log(d.endDate),console.log(d),m.push(r.a.createElement(j,{dateStart:n,dateEnd:l,name:d.name,start:"".concat(g.getFullYear(),"-").concat(g.getMonth()<10?"0"+g.getMonth():g.getMonth(),"-").concat(g.getDate()<10?"0"+g.getDate():g.getDate()),end:"".concat(p.getFullYear(),"-").concat(p.getMonth()<10?"0"+p.getMonth():p.getMonth(),"-").concat(p.getDate()<10?"0"+p.getDate():p.getDate()),key:c,days:a,dayWidth:t,isOnMobile:o,projId:e.id,taskId:d.id,userEmail:s,userToken:i,deleteTask:u}))}))})),console.log(m),r.a.createElement("div",{id:"content"},m)};var x=function(){return r.a.createElement("div",{id:"navbar"},r.a.createElement("a",{href:"#gantt"},"Gantt Diagramm"),r.a.createElement("a",{href:"#network"},"Network Chart"))};var w=function(e){var t=e.userEmail,a=e.userToken,l=new Date,c=Object(n.useState)("".concat(l.getFullYear(),"-").concat(l.getMonth()+1<10?"0"+(l.getMonth()+1):l.getMonth()+1,"-").concat(l.getDate()<10?"0"+l.getDate():l.getDate())),o=Object(u.a)(c,2),m=o[0],d=o[1];l.setMonth(l.getMonth()+6);var g=Object(n.useState)("".concat(l.getFullYear(),"-").concat(l.getMonth()+1<10?"0"+(l.getMonth()+1):l.getMonth()+1,"-").concat(l.getDate()<10?"0"+l.getDate():l.getDate())),p=Object(u.a)(g,2),h=p[0],E=p[1],D=Object(n.useState)([]),k=Object(u.a)(D,2),j=k[0],w=k[1],O=Object(n.useState)([]),S=Object(u.a)(O,2),I=S[0],T=S[1],F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],C=12*(h.slice(0,2)-m.slice(0,2))+(h.slice(5,7)-m.slice(5,7))+1,B=0,A=window.matchMedia("(max-width: 767px)");function P(e){e.matches?document.getElementById("period").style.width="80%":document.getElementById("period").style.width="40%"}var L=function(){var e=Object(i.a)(s.a.mark((function e(){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:8083/project/all",{credentials:"include",headers:{email:t,token:a}});case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,console.log(r[0]),w(r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){L(),P(A),A.addListener(P);var e=new Date;return document.getElementById("startDate").setAttribute("min","".concat(e.getFullYear(),"-").concat(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,"-").concat(e.getDate()<10?"0"+e.getDate():e.getDate())),e.setFullYear(e.getFullYear()+1),document.getElementById("startDate").setAttribute("max","".concat(e.getFullYear(),"-").concat(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,"-").concat(e.getDate()<10?"0"+e.getDate():e.getDate())),(e=new Date(m)).setDate(e.getDate()+1),document.getElementById("endDate").setAttribute("min","".concat(e.getFullYear(),"-").concat(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,"-").concat(e.getDate()<10?"0"+e.getDate():e.getDate())),e.setDate(e.getDate()-1),e.setMonth(e.getMonth()+6),document.getElementById("endDate").setAttribute("max","".concat(e.getFullYear(),"-").concat(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,"-").concat(e.getDate()<10?"0"+e.getDate():e.getDate())),function(){A.removeListener(P)}}),[]);for(var Y=0;Y<C;Y++)B+=new Date(2020,Number(m.slice(5,7))-1+Y,0).getDate();for(var _=[],J=2,W=89/B+"%",U=0;U<C;++U)_.push(r.a.createElement("span",{key:Math.floor(1e5*Math.random()),style:{gridArea:"1/".concat(J,"/2/").concat(J+new Date(2020,Number(m.slice(5,7))-1+U,0).getDate())}},F[Number(m.slice(5,7))-1+U])),J+=new Date(2020,Number(m.slice(5,7))-1+U,0).getDate();function G(e){if("startDate"===e.target.id?d(e.target.value):E(e.target.value),"startDate"===e.target.id){var t=new Date(e.target.value);t.setDate(t.getDate()+1),document.getElementById("endDate").setAttribute("min","".concat(t.getFullYear(),"-").concat(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,"-").concat(t.getDate()<10?"0"+t.getDate():t.getDate())),t.setDate(t.getDate()-1),t.setMonth(t.getMonth()+6),document.getElementById("endDate").setAttribute("max","".concat(t.getFullYear(),"-").concat(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,"-").concat(t.getDate()<10?"0"+t.getDate():t.getDate())),E(document.getElementById("endDate").getAttribute("max"))}}function R(){return(R=Object(i.a)(s.a.mark((function e(n){var r,l,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,fetch("http://localhost:8083/project/createTask",{credentials:"include",method:"POST",headers:{"Content-Type":"application/json",projectId:n.target.taskProject.value,email:t,token:a},body:JSON.stringify({id:Object(f.a)(),name:n.target.name.value,duration:2,startDate:n.target.start.value,endDate:n.target.end.value,progress:n.target.taskProgress.value,parentId:null,child:null,userModelFull:null})});case 3:return r=e.sent,e.next=6,r.text();case 6:return l=e.sent,e.next=9,fetch("http://localhost:8083/project/all",{credentials:"include",headers:{email:t,token:a}});case 9:return c=e.sent,e.next=12,c.json();case 12:o=e.sent,w(o),b(),console.log(l);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){return(q=Object(i.a)(s.a.mark((function e(n){var r,l,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,fetch("http://localhost:8083/project/create",{credentials:"include",method:"POST",headers:{"Content-Type":"application/json",email:t,token:a},body:JSON.stringify({id:Object(f.a)(),name:n.target.projectName.value,startDate:n.target.projectStartDate.value,comment:n.target.projectComment.value,taskList:[]})});case 3:return r=e.sent,e.next=6,r.text();case 6:return l=e.sent,e.next=9,fetch("http://localhost:8083/project/all",{credentials:"include",headers:{email:t,token:a}});case 9:return c=e.sent,e.next=12,c.json();case 12:o=e.sent,w(o),b(),console.log(l);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",{className:"App"},r.a.createElement("div",{id:"overlay",onClick:b}),r.a.createElement(x,null),r.a.createElement("form",{onSubmit:function(e){return R.apply(this,arguments)},className:"addTaskForm"},r.a.createElement("label",null,"Name: ",r.a.createElement("input",{type:"text",id:"taskName",name:"name"})),r.a.createElement("label",null,"Duration: ",r.a.createElement("input",{type:"text",id:"taskDuration",name:"taskDuration"})),r.a.createElement("label",null,"Start: ",r.a.createElement("input",{type:"text",id:"taskStart",name:"start"})),r.a.createElement("label",null,"End: ",r.a.createElement("input",{type:"text",id:"taskEnd",name:"end"})),r.a.createElement("label",null,"Proggres: ",r.a.createElement("input",{type:"number",id:"taskProgress",name:"taskProgress"})),r.a.createElement("label",null,"Project:",r.a.createElement("select",{id:"taskProject",name:"taskProject"},j.map((function(e){return r.a.createElement("option",{value:e.id},e.name)})))),r.a.createElement("button",{type:"submit"},"Add")),r.a.createElement("form",{onSubmit:function(e){return q.apply(this,arguments)},id:"newProjectForm"},r.a.createElement("label",null,"Name: ",r.a.createElement("input",{type:"text",name:"projectName"})),r.a.createElement("label",null,"Manager: ",r.a.createElement("input",{type:"text",name:"projectManager"})),r.a.createElement("label",null,"Start Date: ",r.a.createElement("input",{type:"text",name:"projectStartDate"})),r.a.createElement("label",null,"Comment: ",r.a.createElement("input",{type:"text",name:"projectComment"})),r.a.createElement("button",{type:"submit"},"Add")),r.a.createElement("div",{id:"period"},r.a.createElement("label",{htmlFor:"startDate"},"Since:"),r.a.createElement("input",{type:"date",id:"startDate",name:"startDate",value:m,onChange:G}),r.a.createElement("label",{htmlFor:"endDate"},"Until:"),r.a.createElement("input",{type:"date",id:"endDate",name:"endDate",value:h,onChange:G})),r.a.createElement("select",{onChange:function(e){console.log(j.filter((function(t){return t.name===e.target.value})));var t=j.filter((function(t){return t.name===e.target.value}));console.log(t.length),0===t.length?T(j):T(t)}},r.a.createElement("option",{value:"all"},"All projects"),j.map((function(e){return r.a.createElement("option",null,e.name)}))),r.a.createElement("button",{onClick:y},"New task"),r.a.createElement("button",{onClick:v},"New project"),r.a.createElement("div",{id:"chart"},r.a.createElement(M,{el:_,days:B,dayWidth:W,isOnMobile:A}),r.a.createElement(N,{dayWidth:W,days:B,dateStart:m,dateEnd:h,data:I,isOnMobile:A,userEmail:t,userToken:a,deleteTask:function(e,n){return function(){var r=Object(i.a)(s.a.mark((function r(l){var c,o,i,u;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return l.preventDefault(),r.next=3,fetch("http://localhost:8083/project/deleteTask",{credentials:"include",method:"DELETE",headers:{"Content-Type":"application/json",taskId:e,projectId:n,email:t,token:a}});case 3:return c=r.sent,r.next=6,c.text();case 6:return o=r.sent,r.next=9,fetch("http://localhost:8083/project/all",{credentials:"include",headers:{email:t,token:a}});case 9:return i=r.sent,r.next=12,i.json();case 12:u=r.sent,w(u),console.log(o);case 15:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})))};var O=function(){var e=Object(n.useState)({isLogged:!1}),t=Object(u.a)(e,2),a=t[0],l=t[1];function c(){return(c=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("http://localhost:8083/signIn",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.target.email.value,pass:t.target.pass.value})}).then((function(e){return e.json()})).then((function(e){g.a.set("id",e.cookie.value),g.a.set("email",e.email),l({isLogged:!0})})).catch((function(){}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return a.isLogged?r.a.createElement(w,{userEmail:g.a.get("email"),userToken:g.a.get("id")}):r.a.createElement(m.a,null,r.a.createElement(p.c,null,r.a.createElement(p.a,{path:"/reg"},r.a.createElement(h,null)),r.a.createElement(p.a,{path:"/"},r.a.createElement(n.Fragment,null,r.a.createElement("h1",{style:{textAlign:"center"}},"Sign In"),r.a.createElement("form",{id:"authForm",onSubmit:function(e){return c.apply(this,arguments)}},r.a.createElement("label",null,"Email: ",r.a.createElement("input",{type:"email",name:"email",placeholder:"Enter email"})),r.a.createElement("label",null,"Password: ",r.a.createElement("input",{type:"password",name:"pass",placeholder:"Enter password"})),"Forgot password? Router here",r.a.createElement(m.b,{to:"/reg"},"Sign Up"),r.a.createElement("button",{type:"submit"},"Sign In"))))))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.711be04c.chunk.js.map